<div class="mobile-header">
    <div class="mobile-header__panel">
        <div class="container">
            <div class="mobile-header__body">
                <button class="mobile-header__menu-button" (click)="menu.open()">
                    <app-icon name="menu-18x14" size="18x14"></app-icon>
                </button>
                <a class="mobile-header__logo" routerLink="/">
                    <img src="assets/images/logos/main-logo-mobile.png" height="40px" alt="" srcset="">
                </a>
                <!-- <div class="mobile-header__search" appDropdown="mobile-header__search--opened" #search="appDropdown">
                    <form class="mobile-header__search-form" action="">
                        <input class="mobile-header__search-input" name="search" placeholder="Search over 10,000 products" aria-label="Site search" type="text" autocomplete="off" (keydown.escape)="search.close()" #searchInput>
                        
                        <button class="mobile-header__search-button mobile-header__search-button--close border-none" type="button" (click)="search.close()">
                            <app-icon name="cross-20" size="20"></app-icon>
                        </button>
                        <button class="mobile-header__search-button mobile-header__search-button--submit" type="submit">
                            <app-icon name="search-20" size="20"></app-icon>
                        </button>
                        <div class="mobile-header__search-body"></div>
                    </form>
                </div> -->

                <div
                    class="search search--location--mobile-header mobile-header__search search--suggestions-open search--has-suggestions"
                    appDropdown="mobile-header__search--open" #search="appDropdown"
                    > 
                    <div class="search__body">
                        <form class="mobile-header__search-form" action="shop/catalog" method="GET">
                            <input class="mobile-header__search-input" name="search" placeholder="Search over 10,000 products" aria-label="Site search" type="text" autocomplete="off" (keydown.escape)="search.close()"
                            (input)="searchQuery($event.target.value)"
                            #searchInput>
                            
                            <button class="mobile-header__search-button mobile-header__search-button--close border-none" type="button" (click)="search.close()">
                                <app-icon name="cross-20" size="20"></app-icon>
                            </button>
                            <button *ngIf="!loading" class="search__button search__button--type--submit" type="submit">
                                <app-icon name="search-20" size="20"></app-icon>
                                <span class="fake-svg-icon"></span>
                            </button>
                            
                            <button *ngIf="loading" class="search__button search__button--type--submit"
                                [ngClass]="{'btn-loading': loading}">
                
                            </button>
                            <div class="mobile-header__search-body"></div>
                        </form>
                        <div class="suggestions suggestions--location--mobile-header search__suggestions">
                            <div *ngIf="products.length == 0" class="suggestions__list">
                                <div class="not-found item">
                                    <div class="info m-auto">
                                        {{infoText}}
                                    </div>
                                </div>
                            </div>
                            <ul *ngIf="products.length > 0" class="suggestions__list">
              
                                <ng-container *ngFor="let product of products">
                                    <mobile-search-list-component  [product]="product"></mobile-search-list-component>
                                </ng-container>
                            
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="mobile-header__indicators">
                    <div class="indicator indicator--mobile-search indicator--mobile d-sm-none">
                        <button class="indicator__button" (click)="search.open(); searchInput.focus()">
                            <span class="indicator__area">
                                <app-icon name="search-20" size="20"></app-icon>
                            </span>
                        </button>
                    </div>

                    <!-- <div class="indicator indicator--mobile d-sm-flex d-none">
                        <a routerLink="/wishlist" class="indicator__button">
                            <span class="indicator__area">
                                <app-icon name="heart-20" size="20"></app-icon>
                                <span class="indicator__value">{{ wishlist.count$|async }}</span>
                            </span>
                        </a>
                    </div> -->

                    <!-- <div class="indicator indicator--mobile">
                        <a routerLink="/cart" class="indicator__button">
                            <span class="indicator__area">
                                <app-icon name="cart-20" size="20"></app-icon>
                                <span class="indicator__value">{{ cart.quantity$|async }}</span>
                            </span>
                        </a>
                    </div> -->
                </div>
            </div>
        </div>
    </div>
</div>
